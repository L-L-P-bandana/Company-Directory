<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Gazetteer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåç</text></svg>">
    
    <link href="vendors/bootstrap-5.3.7-dist/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="vendors/fontawesome-free-6.7.2-web/css/all.min.css">
    <link rel="stylesheet" href="vendors/leaflet/leaflet-easybutton/easy-button.css">
    <link rel="stylesheet" href="vendors/leaflet/Leaflet.markercluster-master/MarkerCluster.css">
    <link rel="stylesheet" href="vendors/leaflet/Leaflet.markercluster-master/MarkerCluster.Default.css">
    
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <!-- Pre-loader Overlay -->
    <div id="pre-load" class="position-fixed w-100 h-100 d-flex align-items-center justify-content-center bg-white">
        <div class="text-center">
            <div class="spinner-border text-success mb-3" role="status" style="width: 4rem; height: 4rem;">
                <span class="visually-hidden">Loading...</span>
            </div>
            <h5 class="text-success fw-light">Loading Gazetteer...</h5>
            <p class="text-muted small">Preparing your global journey</p>
        </div>
    </div>

    <!-- Country Selector -->
    <div id="selectContainer" class="position-fixed">
        <select id="countrySelect" class="form-select shadow-sm bg-white bg-opacity-75">
            <option value="">Select a country...</option>
        </select>
    </div>

    <div id="map" class="w-100 vh-100"></div>

    <!-- Demographics Modal -->
    <div id="demographicsModal" class="modal" data-bs-backdrop="false" tabindex="-1" aria-labelledby="demographicsModalLabel">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-success bg-gradient text-white">
                    <h5 class="modal-title" id="demographicsModalLabel"><i class="fa-solid fa-circle-info fa-xl me-2"></i>Country Information</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <table class="table table-striped">
                        <tr>
                            <td class="text-center col-2">
                                <i class="fa-solid fa-landmark-flag fa-xl text-success"></i>
                            </td>
                            <td class="text-nowrap">
                                Capital city
                            </td>
                            <td id="capitalCity" class="text-end">
                                Loading...
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <i class="fa-solid fa-globe fa-xl text-success"></i>
                            </td>
                            <td>
                                Continent
                            </td>
                            <td id="continent" class="text-end">
                                Loading...
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <i class="fa-solid fa-ear-listen fa-xl text-success"></i>
                            </td>
                            <td>
                                Languages
                            </td>
                            <td id="languages" class="text-end">
                                Loading...
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <i class="fa-solid fa-coins fa-xl text-success"></i>
                            </td>
                            <td>
                                Currency
                            </td>
                            <td id="currency" class="text-end">
                                Loading...
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <i class="fa-solid fa-equals fa-xl text-success"></i>
                            </td>
                            <td class="text-nowrap">
                                ISO alpha 2
                            </td>
                            <td id="isoAlpha2" class="text-end">
                                Loading...
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <i class="fa-solid fa-bars fa-xl text-success"></i>
                            </td>
                            <td class="text-nowrap">
                                ISO alpha 3
                            </td>
                            <td id="isoAlpha3" class="text-end">
                                Loading...
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <i class="fa-solid fa-person fa-xl text-success"></i>
                            </td>
                            <td>
                                Population
                            </td>
                            <td id="population" class="text-end">
                                Loading...
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <i class="fa-solid fa-ruler-combined fa-xl text-success"></i>
                            </td>
                            <td class="text-nowrap">
                                Area (km<sup>2</sup>)
                            </td>
                            <td id="areaInSqKm" class="text-end">
                                Loading...
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <i class="fa-solid fa-envelope fa-xl text-success"></i>
                            </td>
                            <td class="text-nowrap">
                                Postal code format
                            </td>
                            <td id="postalCodeFormat" class="text-end">
                                Loading...
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-success btn-sm" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Weather Modal -->
    <div id="weatherModal" class="modal" data-bs-backdrop="false" tabindex="-1" aria-labelledby="weatherModalLabel">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-primary bg-gradient text-white">
                    <h5 class="modal-title" id="weatherModalLabel">Weather</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col border mt-1 ms-3 me-3 mb-2 weather-card">
                            <p class="fw-bold fs-6 mt-1">TODAY</p>
                            <div class="row">
                                <div class="col text-center">
                                    <p id="todayConditions" class="fw-bold fs-6 mt-3">Loading...</p>
                                </div>
                                <div class="col text-center">
                                    <img id="todayIcon" class="img-fluid mt-0" src="" alt="" title="" style="width: 64px; height: 64px;">
                                </div>
                                <div class="col text-center">
                                    <p class="fw-bold fs-4 mb-0"><span id="todayMaxTemp">--</span><sup>¬∞</sup><span class="tempMetric">C</span></p>
                                    <p class="fs-5 mt-0 text-secondary"><span id="todayMinTemp">--</span><sup>¬∞</sup><span class="tempMetric">C</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col border mt-2 ms-3 me-3 mb-0 weather-card">
                            <div class="row">
                                <div class="col text-center">
                                    <p id="day1Date" class="fw-bold fs-6 mt-3">Loading...</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col text-center">
                                    <img id="day1Icon" src="" alt="" title="" style="width: 48px; height: 48px;">
                                </div>
                                <div class="col text-center">
                                    <p class="fw-bold fs-4 mb-0"><span id="day1MaxTemp">--</span><sup>¬∞</sup>C</p>
                                    <p class="fs-5 mt-0 text-secondary"><span id="day1MinTemp">--</span><sup>¬∞</sup>C</p>
                                </div>
                            </div>
                        </div>
                        <div class="col border mt-2 ms-1 me-3 mb-0 weather-card">
                            <div class="row">
                                <div class="col text-center">
                                    <p id="day2Date" class="fw-bold fs-6 mt-3">Loading...</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col text-center">
                                    <img id="day2Icon" src="" alt="" title="" style="width: 48px; height: 48px;">
                                </div>
                                <div class="col text-center">
                                    <p class="fw-bold fs-4 mb-0"><span id="day2MaxTemp">--</span><sup>¬∞</sup>C</p>
                                    <p class="fs-5 mt-0 text-secondary"><span id="day2MinTemp">--</span><sup>¬∞</sup>C</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <p class="fs-6 fw-light">Last updated <span id="lastUpdated">--</span>. Powered by <a href="https://openweathermap.org/" target="_blank" title="OpenWeatherMap API">OpenWeatherMap</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Currency Modal -->
    <div id="currencyModal" class="modal" data-bs-backdrop="false" tabindex="-1" aria-labelledby="currencyModalLabel">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-warning bg-gradient text-white">
                    <h5 class="modal-title" id="currencyModalLabel">Currency Converter</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="fromCurrency" class="form-label fw-bold">
                                <i class="fa-solid fa-arrow-up me-2 text-warning"></i>From
                            </label>
                            <select id="fromCurrency" class="form-select form-select-lg shadow-sm">
                                <option value="">Select currency...</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="fromAmount" class="form-label fw-bold">
                                <i class="fa-solid fa-calculator me-2 text-warning"></i>Amount
                            </label>
                            <input type="number" id="fromAmount" class="form-control form-control-lg shadow-sm" 
                                   value="1" min="0" step="0.01" placeholder="Enter amount">
                        </div>
                    </div>
                    <div class="text-center my-3">
                        <i class="fa-solid fa-arrow-down-up-across-line fa-xl text-warning"></i>
                    </div>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="toCurrency" class="form-label fw-bold">
                                <i class="fa-solid fa-arrow-down me-2 text-warning"></i>To
                            </label>
                            <select id="toCurrency" class="form-select form-select-lg shadow-sm">
                                <option value="">Select currency...</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="toAmount" class="form-label fw-bold">
                                <i class="fa-solid fa-coins me-2 text-warning"></i>Result
                            </label>
                            <input type="text" id="toAmount" class="form-control form-control-lg shadow-sm bg-light" 
                                   readonly placeholder="Conversion result">
                        </div>
                    </div>
                    <div class="alert alert-warning mt-3 d-none" id="conversionError">
                        <i class="fa-solid fa-exclamation-triangle me-2"></i>
                        <span id="errorMessage">Please select currencies and enter an amount</span>
                    </div>
                    <div id="conversionRate" class="mt-3 text-center d-none">
                        <hr class="currency-separator">
                        <small class="text-muted fw-bold">
                            <i class="fa-solid fa-chart-line me-1"></i>
                            <span id="rateDisplay">1 USD = 1 EUR</span>
                        </small>
                        <hr class="currency-separator">
                    </div>
                </div>
                <div class="modal-footer">
                    <small class="text-muted">
                        <i class="fa-solid fa-info-circle me-1"></i>
                        Exchange rates update automatically as you type
                    </small>
                    <button type="button" class="btn btn-outline-warning btn-sm ms-auto" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- News Modal -->
    <div id="newsModal" class="modal" data-bs-backdrop="false" tabindex="-1" aria-labelledby="newsModalLabel">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-danger bg-gradient text-white">
                    <h5 class="modal-title" id="newsModalLabel">Latest News</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="newsContent">
                        <div class="text-center py-4">
                            <i class="fa-solid fa-spinner fa-spin fa-2x text-danger mb-3"></i>
                            <p>Loading latest news...</p>
                        </div>
                    </div>
                    <div id="newsContainer" class="d-none">
                        <div id="scrollableNews" class="row g-3" style="max-height: 400px; overflow-y: auto;"></div>
                        <div id="viewMoreContainer" class="text-center mt-3">
                            <button id="viewMoreBtn" class="btn btn-outline-danger">
                                <i class="fa-solid fa-plus me-2"></i>View More Articles
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Wikipedia Modal -->
    <div id="wikipediaModal" class="modal" data-bs-backdrop="false" tabindex="-1" aria-labelledby="wikipediaModalLabel">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-info bg-gradient text-white">
                    <h5 class="modal-title" id="wikipediaModalLabel">Wikipedia</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="wikipediaContent">
                        <p class="text-center">Loading Wikipedia content...</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-info btn-sm" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Public Holidays Modal -->
    <div id="holidaysModal" class="modal" data-bs-backdrop="false" tabindex="-1" aria-labelledby="holidaysModalLabel">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content shadow">
                <div class="modal-header bg-secondary bg-gradient text-white">
                    <h5 class="modal-title" id="holidaysModalLabel">Public Holidays</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="holidaysContent">
                        <p class="text-center">Loading public holidays...</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="vendors/bootstrap-5.3.7-dist/bootstrap.min.js"></script>
    <script src="vendors/jQuery/jquery.min.js"></script>
    <script src="vendors/leaflet/leaflet.min.js"></script>
    <script src="vendors/leaflet/leaflet-easybutton/easy-button.js"></script>
    <script src="vendors/leaflet/Leaflet.markercluster-master/MarkerCluster.js"></script>
    <script src="js/app.js"></script>
</body>
</html>